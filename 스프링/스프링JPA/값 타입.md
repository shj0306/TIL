# 값 타입

## JPA의 데이터 타입 분류

- 엔티티 타입
- 값 타입



## 값 타입

- 기본값 타입

  - 자바 기본 타입(int, double)
  - 래퍼 클래스(Integer, Long)
  - String

- 임베디드 타입(embedded type, 복합 값 타입)

- 컬렉션 값 타입



### 기본 값 타입

- 생명 주기를 엔티티에 의존
  - 예) 회원을 삭제하면 이름, 나이 필드도 함께 삭제
- 값 타입은 절대 공유하면 안된다.
  - 회원 이름 변경 시 다른 회원의 이름도 함께 변경되면 안된다.



  ### 임베디드 타입

- @Embeddable : 값 타입을 정의하는 곳에 표시
- @Embedded : 값 타입을 사용하는 곳에 표시
- 기본 생성자 필수



### 임베디드 타입의 장점

- 재사용이 가능
- 높은 응집도
- 임베디드 타입을 포함한 모든 값 타입은, 값 타입을 소유한 엔티티에 생명주기를 의존함



### 임베디드 타입과 테이블 매핑

- 임베디드 타입을 사용하기 전과 후에 매핑하는 테이블은 같다. 

- 잘 설계한 ORM 애플리케이션은 매핑한 테이블 수보다 클래스의 수가 더 많다.



### @AttrbuteOverride : 속성 재정의

- 한 엔티티에서 같은 값 타입을 사용하게 되면 컬럼명이 중복되서 에러가 발생함.
  - org.hibernate.MappingException: Repeated column in mapping for entity
- @AttributeOverrides, @AttributeOverride를 사용해서 컬럼 명 속성을 재정의

